<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>Assignment 2</title></head>
<style type="text/css">
	table {
		border-collapse: collapse;
	}
	table, th, td {
	    border: 1px solid black;
	    align-items: center;
	}
	button.add {
	    height: 30px;
	    width: 30px;
	    border-radius: 30px;
	    border: 1px solid #000;
	    background-color: green;
	}

	button.sub {
	    height: 30px;
	    width: 30px;
	    border-radius: 30px;
	    border: 1px solid #000;
	    background-color: red;
	}

</style>
<script type="text/javascript">
	function  getRow(element) {
    	return element.parentNode.parentNode.rowIndex;
	}

	function addRow(element) {
		var row = getRow(element);
		var table = document.getElementById("mainTable");
		//Get the input from the text boxes
		var orig_name = table.rows[row].cells[0].getElementsByTagName('input')[0].value;
		var orig_phone = table.rows[row].cells[1].getElementsByTagName('input')[0].value;

		var new_row_num = row + 1;
		var newrow = table.insertRow(new_row_num);
		var cell1 = newrow.insertCell(0);
		cell1.innerHTML = "<input type=\"textbox\"/>"
		var cell2 = newrow.insertCell(1);
		cell2.innerHTML = "<input type=\"textbox\"/>"
		var cell3 = newrow.insertCell(2);
		cell3.innerHTML = "<button style=\"background-color: #3174c2\" onclick=\"fetch(this);\"><b>Fetch</b></button>"
		var cell4 = newrow.insertCell(3);
		cell4.innerHTML = "<button class=\"add\" onclick=\"return addRow(this);\"><b>+</b></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class=\"sub\" onclick=\"return deleteRow(this);\"><b>-</b></button>"
		
	}

	function deleteRow(element) {
		var row = getRow(element);
		var table = document.getElementById("mainTable");

		if (table.rows.length == 2) {
			table.rows[row].cells[0].getElementsByTagName('input')[0].value = "";
			table.rows[row].cells[1].getElementsByTagName('input')[0].value = "";
		}
		else {
			table.deleteRow(row);
		}
	}

	function fetch(element) {
		var row = getRow(element);
		var table = document.getElementById("mainTable");
		//Get the input from the text boxes
		var orig_name = table.rows[row].cells[0].getElementsByTagName('input')[0].value;
		var orig_phone = table.rows[row].cells[1].getElementsByTagName('input')[0].value;

		alert("Name: " + orig_name + " Phone: " + orig_phone);

	}

</script>
<body>
	<table id="mainTable">
		<tr style="background-color: #3174c2;">
			<th>Name</th>
			<th>Phone Number</th>
			<th>Fetch</th>
			<th>Add/Remove</th>
		</tr>
		<tr>
			<td><input type="textbox"/></td>
			<td><input type="textbox"/></td>
			<td><button style="background-color: #3174c2" onclick="fetch(this);"><b>Fetch</b></button></td>
			<td><button class="add" onclick="return addRow(this);"><b>+</b></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button class="sub" onclick="return deleteRow(this);"><b>-</b></button></td>
		</tr>
	</table>
</body>
</html>